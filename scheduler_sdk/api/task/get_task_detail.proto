syntax = "proto3";
package task;




import "google/protobuf/struct.proto";

/*
GetTask请求
*/
message GetTaskRequest {
    /*
    任务id
    */
    string taskId = 1 ;
}

/*
GetTask返回
*/
message GetTaskResponse {
message CmdConfig {
    /*
    uri
    */
    string url = 1 ;
    /*
    名字服务
    */
    string service_name = 2 ;
    /*
    端口
    */
    int32 port = 3 ;
    /*
    名字服务
    */
    string host = 4 ;
    /*
    http 请求
    */
    string method = 5 ;
    /*
    请求头
    */
    google.protobuf.Struct headers = 6 ;
    /*
    参数
    */
    google.protobuf.Struct params = 7 ;
}
        
message Annotations {
    /*
    应用ID
    */
    string appId = 1 ;
}
        
message Callback {
    /*
    url
    */
    string url = 1 ;
    /*
    header host
    */
    string host = 2 ;
    /*
    名字服务
    */
    string ensName = 3 ;
}
        
    
    /*
    task id
    */
    string id = 1 ;
    /*
    作业 id
    */
    string job_id = 2 ;
    /*
    状态
    */
    int32 status = 3 ;
    /*
    是否停用。0 表示任务启动，1 表示停用
    */
    int32 disable = 4 ;
    /*
    定时时间
    */
    string task_scheduler = 5 ;
    /*
    任务名称
    */
    string name = 6 ;
    /*
    工具报错信息
    */
    string error = 7 ;
    /*
    任务的具体配置, http或脚本
    */
    CmdConfig cmd_config = 8 ;
    /*
    任务类型
    */
    string job_type = 9 ;
    /*
    更新权限
    */
    repeated string updateAuthorizers = 10 ;
    /*
    创建时间
    */
    string create_time = 11 ;
    /*
    是否支持一次性任务
    */
    string task_type = 12 ;
    /*
    发起定时任务的源 id
    */
    string src_id = 13 ;
    /*
    相关参数
    */
    Annotations annotations = 14 ;
    /*
    更新时间
    */
    string update_time = 15 ;
    /*
    脚本类型
    */
    string cmd_type = 16 ;
    /*
    删除权限
    */
    repeated string deleteAuthorizers = 17 ;
    /*
    创建用户
    */
    string user = 18 ;
    /*
    0 在页面可见，1 不可见
    */
    int32 invisible = 19 ;
    /*
    org
    */
    int32 org = 20 ;
    /*
    操作权限
    */
    repeated string operateAuthorizers = 21 ;
    /*
    回调
    */
    Callback callback = 22 ;
    /*
    注明的名字服务
    */
    string assignner = 23 ;
}

/*
GetTaskApi返回
*/
message GetTaskResponseWrapper {
    /*
    返回码
    */
    int32 code = 1 ;
    /*
    返回码解释
    */
    string codeExplain = 2 ;
    /*
    错误详情
    */
    string error = 3 ;
    /*
    返回数据
    */
    task.GetTaskResponse data = 4 ;
}

