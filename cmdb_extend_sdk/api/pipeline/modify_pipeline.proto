syntax = "proto3";
package pipeline;




import "model/cmdb_extend/app_pipeline.proto";
import "google/protobuf/struct.proto";

/*
ModifyPipeline请求
*/
message ModifyPipelineRequest {
message Pipeline {
    /*
    名称
    */
    string name = 1 ;
    /*
    分类
    */
    string category = 2 ;
    /*
    流水线版本
    */
    int32 flowVersion = 3 ;
    /*
    模板Id
    */
    string templateId = 4 ;
    /*
    模板版本
    */
    int32 templateVersion = 5 ;
    /*
    通知人
    */
    repeated string subscribers = 6 ;
    /*
    通知规则(WARNING/ALL)
    */
    string subscribedChannel = 7 ;
    /*
    钩子触发规则, {"gitlabHooks":{"enabled":true},"subversionHooks":{"enabled":false}}
    */
    google.protobuf.Struct rules = 8 ;
    /*
    元数据, {"type":"development","desc":"xxx","appId":"5cc18b157f868"}
    */
    google.protobuf.Struct metadata = 9 ;
}
        
    
    /*
    应用Id
    */
    string appId = 1 ;
    /*
    流水线Id
    */
    string flowId = 2 ;
    /*
    流水线信息
    */
    Pipeline pipeline = 3 ;
}

/*
ModifyPipelineApi返回
*/
message ModifyPipelineResponseWrapper {
    /*
    返回码
    */
    int32 code = 1 ;
    /*
    返回码解释
    */
    string codeExplain = 2 ;
    /*
    错误详情
    */
    string error = 3 ;
    /*
    返回数据
    */
    cmdb_extend.AppPipeline data = 4 ;
}

