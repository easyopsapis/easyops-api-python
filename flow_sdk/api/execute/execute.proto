syntax = "proto3";
package execute;




import "model/tool/callback.proto";
import "model/tool/input_param.proto";
import "google/protobuf/struct.proto";

/*
ExecuteFlow请求
*/
message ExecuteFlowRequest {
message Metadata {
    /*
    环境
    */
    string type = 1 ;
    /*
    描述
    */
    string desc = 2 ;
}
        
    
    /*
    自动填充参数
    */
    google.protobuf.Struct instanceMap = 1 ;
    /*
    是否发送notify通知
    */
    string needNotify = 2 ;
    /*
    父流程任务ID
    */
    string parentTaskId = 3 ;
    /*
    流程执行成功后的回调,有中间态回调,(部署在使用)
    */
    tool.Callback callback = 4 ;
    /*
    流程全部执行完回调,有别于callback字段
    */
    tool.Callback endCallback = 5 ;
    /*
    流程ID
    */
    string flowId = 6 ;
    /*
    版本号(时间戳-秒)
    */
    int32 version = 7 ;
    /*
    流程输入
    */
    repeated tool.input_param flowInputs = 8 ;
    /*
    流程名称
    */
    string name = 9 ;
    /*
    流程环境变量
    */
    google.protobuf.Struct flowEnv = 10 ;
    /*
    流程环境类型
    */
    Metadata metadata = 11 ;
    /*
    流程标签
    */
    repeated string tags = 12 ;
}

/*
ExecuteFlow返回
*/
message ExecuteFlowResponse {
    /*
    流程任务ID
    */
    string taskId = 1 ;
}

/*
ExecuteFlowApi返回
*/
message ExecuteFlowResponseWrapper {
    /*
    返回码
    */
    int32 code = 1 ;
    /*
    返回码解释
    */
    string codeExplain = 2 ;
    /*
    错误详情
    */
    string error = 3 ;
    /*
    返回数据
    */
    execute.ExecuteFlowResponse data = 4 ;
}

